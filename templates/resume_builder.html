{% extends "base.html" %}
{% block title %}Edit "{{ resume.title }}" — BeamClone{% endblock %}
{% block content %}
<h2>Edit: {{ resume.title }}</h2>
<div class="builder-grid">
  <section class="builder-left">
    <div class="group">
      <h3>Basics</h3>
      <label>Full Name <input id="full_name" type="text"></label>
      <label>Title <input id="job_title" type="text" placeholder="e.g., Data Analyst"/></label>
      <label>Email <input id="email" type="email"></label>
      <label>Phone <input id="phone" type="text"></label>
      <label>Location <input id="location" type="text" placeholder="City, Country"></label>
      <label>Summary <textarea id="summary" rows="4"></textarea></label>
    </div>

    <div class="group">
      <h3>Skills</h3>
      <div id="skills_list"></div>
      <div class="row">
        <input id="skill_input" type="text" placeholder="Add a skill">
        <button class="btn" onclick="addSkill()">Add</button>
      </div>
    </div>

    <div class="group">
      <h3>Experience</h3>
      <div id="exp_list"></div>
      <button class="btn" onclick="addExperience()">+ Add Experience</button>
    </div>

    <div class="group">
      <h3>Education</h3>
      <div id="edu_list"></div>
      <button class="btn" onclick="addEducation()">+ Add Education</button>
    </div>

    <div class="group">
      <h3>Projects</h3>
      <div id="proj_list"></div>
      <button class="btn" onclick="addProject()">+ Add Project</button>
    </div>

    <div class="row">
      <button class="btn primary" onclick="saveResume({{ resume.id }})">Save</button>
      <a class="btn" href="{{ url_for('resumes.preview_resume', resume_id=resume.id) }}">Preview</a>
    </div>
  </section>

  <aside class="builder-right">
    <div class="tip">
      <h4>Tip</h4>
      <p>Use active verbs and quantify your impact: “Improved load time by 40%” beats “Worked on performance”.</p>
    </div>
    <div class="tip">
      <h4>Sections</h4>
      <p>Keep 1 page for juniors. Add only relevant details for the job you’re applying to.</p>
    </div>
  </aside>
</div>

<script>
  window.__RESUME__ = {{ resume.data|tojson }};
  populateForm(window.__RESUME__);
</script>
{% endblock %}
